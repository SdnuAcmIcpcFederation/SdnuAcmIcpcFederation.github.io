
队列（queue）是一种具有「先进入队列的元素一定先出队列」性质的表。由于该性质，队列通常也被称为先进先出（first in first out）表，简称 FIFO 表。

C++ STL 中实现了 队列 std::queue 和 优先队列 std::priority_queue 两个类，定义于头文件 <queue> 中。

#### 队列用数组模拟

通常用一个数组模拟一个队列，用两个变量标记队列的首尾。

```
int q[SIZE], ql = 1, qr;
```

插入元素：q[++qr]=x;

删除元素：++ql;

访问队首/队尾：q[ql]/q[qr]

清空队列：ql=1;qr=0;

##### 特殊的队列

1. 双端队列  
双端队列是指一个可以在队首/队尾插入或删除元素的队列。相当于是栈与队列功能的结合。具体地，双端队列支持的操作有 4 个：
* 在队首插入一个元素
* 在队尾插入一个元素
* 在队首删除一个元素
* 在队尾删除一个元素  
数组模拟双端队列的方式与普通队列相同。

2. 循环队列

使用数组模拟队列会导致一个问题：随着时间的推移，整个队列会向数组的尾部移动，一旦到达数组的最末端，即使数组的前端还有空闲位置，再进行入队操作也会导致溢出（这种数组里实际有空闲位置而发生了上溢的现象被称为“假溢出”）。

解决假溢出的办法是采用循环的方式来组织存放队列元素的数组，即将数组下标为 0 的位置看做是最后一个位置的后继。（数组下标为 x 的元素，它的后继为 (x + 1) % SIZE）。这样就形成了循环队列。

##### 例题

LOJ6515「雅礼集训 2018 Day10」贪玩蓝月

一个双端队列（deque），m 个事件：

1. 在前端插入 (w,v)
2. 在后端插入 (w,v)
3. 删除前端的二元组
4. 删除后端的二元组
5. 给定 l,r，在当前 deque 中选择一个子集 S 使得 ，且最大化 .
